{"version":3,"sources":["webpack:///./examples/paging.js","webpack:///./examples/util.js"],"names":[],"mappings":"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","file":"paging.js","sourcesContent":["// use jsx to render html, do not modify simple.html\n\nimport 'rmc-list-view/assets/index.less';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ListView from 'rmc-list-view';\nimport { View, Text, Thumb } from './util';\n\nconst NUM_SECTIONS = 5;\nconst NUM_ROWS_PER_SECTION = 5;\nlet pageIndex = 0;\n\nconst Demo = React.createClass({\n  getInitialState() {\n    const getSectionData = (dataBlob, sectionID) => {\n      return dataBlob[sectionID];\n    };\n    const getRowData = (dataBlob, sectionID, rowID) => {\n      return dataBlob[rowID];\n    };\n\n    const dataSource = new ListView.DataSource({\n      getRowData: getRowData,\n      getSectionHeaderData: getSectionData,\n      rowHasChanged: (row1, row2) => row1 !== row2,\n      sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\n    });\n\n    this.dataBlob = {};\n    this.sectionIDs = [];\n    this.rowIDs = [];\n    this._genData = (pIndex = 0) => {\n      for (let i = 0; i < NUM_SECTIONS; i++) {\n        let ii = pIndex * NUM_SECTIONS + i;\n        const sectionName = `Section ${ii}`;\n        this.sectionIDs.push(sectionName);\n        this.dataBlob[sectionName] = sectionName;\n        this.rowIDs[ii] = [];\n\n        for (let jj = 0; jj < NUM_ROWS_PER_SECTION; jj++) {\n          const rowName = `S${ii}, R${jj}`;\n          this.rowIDs[ii].push(rowName);\n          this.dataBlob[rowName] = rowName;\n        }\n      }\n      // new object ref\n      this.sectionIDs = [].concat(this.sectionIDs);\n      this.rowIDs = [].concat(this.rowIDs);\n    }\n    this._genData();\n    return {\n      dataSource: dataSource.cloneWithRowsAndSections(this.dataBlob, this.sectionIDs, this.rowIDs),\n      isLoading: false,\n    };\n  },\n  _onEndReached(event) {\n    // load new data\n    console.log('reach end', event);\n    this.setState({ isLoading: true });\n    setTimeout(() => {\n      this._genData(++pageIndex);\n      this.setState({\n        dataSource: this.state.dataSource.cloneWithRowsAndSections(this.dataBlob, this.sectionIDs, this.rowIDs),\n        isLoading: false,\n      });\n    }, 1000);\n  },\n  render() {\n    return (<div style={{ margin: '10px auto', width: '80%' }}>\n      <ListView ref=\"lv\"\n        dataSource={this.state.dataSource}\n        renderHeader={() => (\n          <View style={{ height: 90, backgroundColor: '#bbb' }}>\n            <Text>Table Header</Text>\n          </View>\n        )}\n        renderSectionHeader={(sectionData) => (\n          <View style={{\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'flex-start',\n            padding: 6,\n            backgroundColor: '#5890ff',\n          }}>\n            <Text style={{ color: 'white' }}>\n              {sectionData}\n            </Text>\n          </View>\n        )}\n        renderRow={(rowData) => (<Thumb text={rowData} />) }\n        renderFooter={() => (\n          <View style={{\n            backgroundColor: '#bbb', color: 'white',\n            padding: 30, textAlign: 'center',\n          }}>\n            {this.state.isLoading ? 'loading...' : 'loaded'}\n          </View>\n        )}\n        initialListSize={10}\n        pageSize={4}\n        scrollRenderAheadDistance={500}\n        scrollEventThrottle={20}\n        onScroll={() => { console.log('scroll'); } }\n        onEndReached={this._onEndReached}\n        onEndReachedThreshold={10}\n        renderScrollComponent={props => <MyScroller {...props} style={{ height: 300, overflow: 'auto'}} />}\n        renderBodyComponent={() => <div className=\"for-body-demo\" />}\n      />\n      <div>\n        <p>note: temporary disable bodyScroll can have a better experience</p>\n        <button onClick={() => { this._ctrlBodyScroll(true) }}>enableBodyScroll</button>&nbsp;\n        <button onClick={() => { this._ctrlBodyScroll(false) } } style={{ color: 'red' }}>disableBodyScroll</button>\n      </div>\n    </div>);\n  },\n  _ctrlBodyScroll(flag) {\n    document.getElementsByTagName('body')[0].style.overflowY = flag ? 'auto' : 'hidden';\n  }\n});\n\nconst MyScroller = React.createClass({\n  render() {\n    const { children, style, onScroll } = this.props;\n    const divProps = { style, onScroll };\n    return (\n      <div className=\"c-s\" {...divProps}>\n        {children}\n      </div>\n    )\n  },\n});\n\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/paging.js\n **/","const victory = 'https://os.alipayobjects.com/rmsportal/kwihkdUVljwUURM.png';\nconst superlike = 'https://os.alipayobjects.com/rmsportal/pmXtSKUFLsIEJLh.png';\nconst poke = 'https://os.alipayobjects.com/rmsportal/ZlYzyBcrtLqnbjN.png';\nconst party = 'https://os.alipayobjects.com/rmsportal/mIrghdvucaPOLhc.png';\nconst liking = 'https://os.alipayobjects.com/rmsportal/DrcLpisGZWASeoj.png';\nconst like = 'https://os.alipayobjects.com/rmsportal/jloFMiDVGaHrHIO.png';\nconst heart = 'https://os.alipayobjects.com/rmsportal/QFjTyLzmuJQIflm.png';\nconst flowers = 'https://os.alipayobjects.com/rmsportal/rgahTjFqZATwqqL.png';\nconst fist = 'https://os.alipayobjects.com/rmsportal/KcyBnnVZlfIDgci.png';\nconst dislike = 'https://os.alipayobjects.com/rmsportal/FmMzrxqOhiogBOX.png';\nconst call = 'https://os.alipayobjects.com/rmsportal/TKlynYhJACDNwKw.png';\nconst bandaged = 'https://os.alipayobjects.com/rmsportal/htJwTSIUpppWwSb.png';\n\nexport const THUMB_URLS = [\n  like,\n  dislike,\n  call,\n  fist,\n  bandaged,\n  flowers,\n  heart,\n  liking,\n  party,\n  poke,\n  superlike,\n  victory,\n];\n\nexport function Text(props) {\n  return <span {...props}>{props.children}</span>;\n}\nexport function Image(props) {\n  return (\n    <img\n      style={{\n        width: 64,\n        height: 64,\n        marginHorizontal: 10,\n        backgroundColor: 'transparent',\n      }}\n      src={props.source}\n    />\n  );\n}\nexport function View(props) {\n  return <div {...props}>{props.children}</div>;\n}\n\nimport React from 'react';\nexport const TouchableHighlight = React.createClass({\n  render() {\n    const { onPress, children, ...restProps } = this.props;\n    return <div {...restProps} onClick={onPress}>{children}</div>;\n  },\n});\nexport const TouchableOpacity = TouchableHighlight;\n\n\nfunction flattenStyle(style, processor) {\n  if (!style) {\n    return undefined;\n  }\n\n  if (!Array.isArray(style)) {\n    return (processor && processor(style)) || style;\n  }\n  const result = {};\n  for (let i = 0; i < style.length; ++i) {\n    const computedStyle = flattenStyle(style[i]);\n    if (computedStyle) {\n      for (const key in computedStyle) {\n        if (computedStyle.hasOwnProperty(key)) {\n          result[key] = computedStyle[key];\n        }\n      }\n    }\n  }\n\n  return (processor && processor(result)) || result;\n}\n\nexport const Thumb = React.createClass({\n  getInitialState() {\n    return { thumbIndex: this._getThumbIdx(), dir: 'row' };\n  },\n  componentWillMount() {\n    // UIManager.setLayoutAnimationEnabledExperimental &&\n    //   UIManager.setLayoutAnimationEnabledExperimental(true);\n  },\n  _getThumbIdx() {\n    return Math.floor(Math.random() * THUMB_URLS.length);\n  },\n  _onPressThumb() {\n    this.setState({\n      thumbIndex: this._getThumbIdx(),\n      dir: this.state.dir === 'row' ? 'column' : 'row',\n    });\n  },\n  render() {\n    const buttonContents = {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginHorizontal: 5,\n      marginVertical: 3,\n      padding: 5,\n      backgroundColor: '#EAEAEA',\n      borderRadius: 3,\n      paddingVertical: 10,\n    };\n    return (\n      <TouchableOpacity\n        onPress={this._onPressThumb}\n        style={flattenStyle([buttonContents, { flexDirection: this.state.dir }])}>\n        <Image source={THUMB_URLS[this.state.thumbIndex]} />\n        <Image source={THUMB_URLS[this.state.thumbIndex]} />\n        <Image source={THUMB_URLS[this.state.thumbIndex]} />\n        {this.state.dir === 'column' ?\n          <Text>\n            Oooo, Let me keep typing here so it wraps at least one line.\n          </Text> :\n          <Text />\n        }\n      </TouchableOpacity>\n    );\n  },\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/util.js\n **/"],"sourceRoot":""}